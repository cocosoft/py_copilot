{
  "project": {
    "name": "PyCopilot",
    "version": "1.0.0",
    "description": "Default Model Management System with Desktop Application"
  },
  "backend": {
    "name": "py-copilot-backend",
    "type": "fastapi",
    "language": "python",
    "version": "3.11",
    "framework": {
      "name": "FastAPI",
      "version": "0.104.1"
    },
    "server": {
      "type": "uvicorn",
      "host": "0.0.0.0",
      "port": 8000,
      "workers": 4,
      "reload": false
    },
    "dependencies": {
      "core": [
        "fastapi==0.104.1",
        "uvicorn[standard]==0.24.0.post1",
        "pydantic==2.5.2",
        "pydantic-settings==2.1.0",
        "python-dotenv==1.0.0"
      ],
      "database": [
        "sqlalchemy==2.0.23",
        "psycopg2-binary==2.9.9",
        "alembic==1.12.1"
      ],
      "cache": [
        "redis==5.0.1"
      ],
      "ai": [
        "langchain==0.1.5",
        "openai==1.6.0",
        "huggingface-hub==0.19.4",
        "transformers==4.35.2"
      ],
      "utils": [
        "python-multipart==0.0.6",
        "aiofiles==23.2.1",
        "PyPDF2==3.0.1",
        "PyCryptodome==3.19.1",
        "jieba==0.42.1",
        "networkx==3.2.1",
        "scikit-learn==1.3.2",
        "python-louvain==0.16",
        "numpy==1.24.3"
      ]
    },
    "docker": {
      "base_image": "python:3.11-slim",
      "build_context": ".",
      "dockerfile": "Dockerfile",
      "exposed_port": 8000,
      "healthcheck": {
        "command": "curl -f http://localhost:8000/health || exit 1",
        "interval": "30s",
        "timeout": "10s",
        "start_period": "60s",
        "retries": 3
      }
    },
    "endpoints": {
      "api_v1": "/api/v1",
      "health": "/health",
      "docs": "/docs",
      "openapi": "/openapi.json"
    },
    "features": {
      "monitoring": true,
      "metrics": true,
      "cors": true,
      "authentication": true,
      "websocket": true
    }
  },
  "frontend": {
    "name": "py-copilot-frontend",
    "type": "react",
    "language": "javascript",
    "framework": {
      "name": "React",
      "version": "18.2.0"
    },
    "build_tool": {
      "name": "Vite",
      "version": "5.0.8"
    },
    "testing": {
      "unit": {
        "framework": "Jest",
        "version": "30.2.0"
      },
      "e2e": {
        "framework": "Cypress",
        "version": "13.7.0"
      }
    },
    "dependencies": {
      "core": [
        "react==18.2.0",
        "react-dom==18.2.0",
        "react-router-dom==6.22.0"
      ],
      "state_management": [
        "@tanstack/react-query==5.90.16"
      ],
      "api": [
        "axios==1.13.2"
      ],
      "visualization": [
        "d3==7.9.0",
        "reactflow==11.11.4"
      ],
      "document": [
        "react-markdown==10.1.0",
        "rehype-katex==7.0.1",
        "remark-math==6.0.0",
        "katex==0.16.25",
        "mammoth==1.11.0",
        "pdfjs-dist==5.4.449"
      ],
      "icons": [
        "react-icons==5.5.0"
      ]
    },
    "scripts": {
      "dev": "vite",
      "build": "vite build",
      "preview": "vite preview",
      "test": "jest",
      "test:ci": "jest --ci --coverage --watchAll=false",
      "cypress:open": "cypress open",
      "cypress:run": "cypress run",
      "cypress:run:headless": "cypress run --headless"
    },
    "docker": {
      "base_image": "node:18-alpine",
      "build_stage": "frontend",
      "server_image": "nginx:alpine",
      "exposed_port": 80,
      "healthcheck": {
        "command": "wget --no-verbose --tries=1 --spider http://localhost:80/ || exit 1",
        "interval": "30s",
        "timeout": "10s",
        "start_period": "30s",
        "retries": 3
      }
    },
    "proxy": {
      "target": "http://localhost:8000",
      "change_origin": true
    }
  },
  "desktop": {
    "name": "py-copilot-desktop",
    "type": "electron",
    "version": "1.0.0",
    "main": "main.js",
    "framework": {
      "name": "Electron",
      "version": "latest"
    },
    "build": {
      "app_id": "com.pycopilot.desktop",
      "product_name": "Py Copilot",
      "directories": {
        "output": "release"
      },
      "files": [
        "main.js",
        "preload.js",
        "src/**/*",
        "../frontend/dist/**/*"
      ],
      "extra_resources": [
        {
          "from": "../frontend/public",
          "to": "public"
        }
      ],
      "mac": {
        "category": "public.app-category.productivity",
        "target": ["dmg", "zip"],
        "arch": ["x64", "arm64"],
        "gatekeeper_assess": false,
        "hardened_runtime": true
      },
      "win": {
        "target": ["nsis", "portable"],
        "arch": ["x64"],
        "requested_execution_level": "asInvoker"
      },
      "linux": {
        "target": ["AppImage", "deb", "rpm"],
        "arch": ["x64"],
        "category": "Office"
      }
    },
    "features": {
      "auto_update": true,
      "system_tray": true,
      "native_theme": true,
      "context_menu": true
    }
  },
  "environments": {
    "development": {
      "backend": {
        "debug": true,
        "log_level": "DEBUG",
        "workers": 1,
        "reload": true,
        "database_url": "postgresql://postgres:postgres@localhost:5432/py_copilot_dev",
        "redis_url": "redis://localhost:6379/0"
      },
      "frontend": {
        "debug": true,
        "api_url": "http://localhost:8000",
        "ws_url": "ws://localhost:8000",
        "port": 3000
      },
      "docker": {
        "network": "host"
      }
    },
    "staging": {
      "backend": {
        "debug": false,
        "log_level": "DEBUG",
        "workers": 2,
        "reload": false,
        "database_url": "postgresql://postgres:postgres@staging-db:5432/py_copilot_staging",
        "redis_url": "redis://staging-redis:6379/0"
      },
      "frontend": {
        "debug": false,
        "api_url": "http://staging-api.example.com",
        "ws_url": "ws://staging-api.example.com",
        "port": 80
      },
      "docker": {
        "network": "pycopilot-staging"
      }
    },
    "production": {
      "backend": {
        "debug": false,
        "log_level": "INFO",
        "workers": 4,
        "reload": false,
        "database_url": "postgresql://postgres:postgres@prod-db:5432/py_copilot",
        "redis_url": "redis://prod-redis:6379/0",
        "metrics_enabled": true,
        "security_algorithm": "HS256",
        "access_token_expire_minutes": 30,
        "refresh_token_expire_days": 7
      },
      "frontend": {
        "debug": false,
        "api_url": "http://api.example.com",
        "ws_url": "ws://api.example.com",
        "port": 80
      },
      "docker": {
        "network": "pycopilot-production",
        "restart_policy": "unless-stopped"
      },
      "security": {
        "rate_limit_api": "10r/s",
        "rate_limit_login": "5r/m",
        "cors_origins": ["http://localhost:3000", "http://localhost:8080"]
      }
    }
  },
  "monitoring": {
    "enabled": true,
    "metrics": {
      "framework": "Prometheus",
      "endpoint": "/metrics",
      "port": 9090
    },
    "logging": {
      "level": "INFO",
      "format": "json",
      "output": "stdout"
    },
    "health": {
      "endpoints": [
        "/health",
        "/health/ready",
        "/health/live"
      ]
    },
    "alerts": {
      "email": "admin@example.com",
      "slack_webhook": null
    }
  },
  "database": {
    "type": "postgresql",
    "version": "15",
    "host": "postgres",
    "port": 5432,
    "name": "py_copilot",
    "pool": {
      "min": 2,
      "max": 10
    },
    "migrations": {
      "tool": "alembic",
      "directory": "backend/alembic"
    }
  },
  "cache": {
    "type": "redis",
    "host": "redis",
    "port": 6379,
    "database": 0,
    "ttl": 3600
  },
  "external_services": {
    "openai": {
      "api_key_env": "OPENAI_API_KEY",
      "model": "gpt-4",
      "max_tokens": 4096
    },
    "huggingface": {
      "token_env": "HUGGINGFACE_API_TOKEN",
      "endpoint": null
    }
  },
  "docker_compose": {
    "version": "3.8",
    "services": {
      "backend": {
        "build": {
          "context": ".",
          "dockerfile": "Dockerfile"
        },
        "ports": ["8000:8000"],
        "depends_on": ["postgres", "redis"],
        "environment": [
          "DATABASE_URL=${DATABASE_URL}",
          "REDIS_URL=${REDIS_URL}",
          "SECRET_KEY=${SECRET_KEY}",
          "ENVIRONMENT=${ENVIRONMENT}"
        ],
        "volumes": ["./backend/data:/app/data", "./backend/logs:/app/logs"],
        "healthcheck": {
          "test": ["CMD", "curl", "-f", "http://localhost:8000/health"],
          "interval": "30s",
          "timeout": "10s",
          "retries": 3
        }
      },
      "frontend": {
        "build": {
          "context": ".",
          "dockerfile": "Dockerfile"
        },
        "ports": ["80:80"],
        "depends_on": ["backend"],
        "environment": ["ENVIRONMENT=${ENVIRONMENT}"]
      },
      "postgres": {
        "image": "postgres:15-alpine",
        "environment": [
          "POSTGRES_DB=py_copilot",
          "POSTGRES_USER=postgres",
          "POSTGRES_PASSWORD=postgres"
        ],
        "volumes": ["postgres_data:/var/lib/postgresql/data"],
        "ports": ["5432:5432"]
      },
      "redis": {
        "image": "redis:7-alpine",
        "ports": ["6379:6379"],
        "volumes": ["redis_data:/data"]
      },
      "prometheus": {
        "image": "prom/prometheus:v2.45.0",
        "ports": ["9090:9090"],
        "volumes": ["./monitoring/prometheus.yml:/etc/prometheus/prometheus.yml"],
        "command": ["--config.file=/etc/prometheus/prometheus.yml"]
      },
      "grafana": {
        "image": "grafana/grafana:10.0.0",
        "ports": ["3000:3000"],
        "environment": [
          "GF_SECURITY_ADMIN_USER=admin",
          "GF_SECURITY_ADMIN_PASSWORD=${GRAFANA_PASSWORD}"
        ],
        "volumes": ["./monitoring/grafana/provisioning:/etc/grafana/provisioning"],
        "depends_on": ["prometheus"]
      }
    },
    "volumes": {
      "postgres_data": null,
      "redis_data": null
    },
    "networks": {
      "default": {
        "driver": "bridge"
      }
    }
  },
  "deployment": {
    "strategy": "rolling",
    "rollback": true,
    "zero_downtime": true,
    "health_check_timeout": 60,
    "pre_deployment": [
      "backup_database",
      "notify_slack"
    ],
    "post_deployment": [
      "run_migrations",
      "clear_cache",
      "notify_slack"
    ]
  },
  "security": {
    "secret_key_env": "SECRET_KEY",
    "algorithm": "HS256",
    "token_expiry": {
      "access": 30,
      "refresh": 10080
    },
    "cors": {
      "origins": ["http://localhost:3000", "http://localhost:8080"],
      "credentials": true
    },
    "rate_limit": {
      "api": {
        "requests": 10,
        "seconds": 1
      },
      "login": {
        "requests": 5,
        "seconds": 60
      }
    }
  },
  "ports": {
    "backend": 8000,
    "frontend": 80,
    "frontend_dev": 3000,
    "postgres": 5432,
    "redis": 6379,
    "grafana": 3000,
    "prometheus": 9090
  },
  "paths": {
    "backend": "backend",
    "frontend": "frontend",
    "desktop": "electron",
    "scripts": "scripts",
    "docs": "docs",
    "monitoring": "monitoring",
    "config": "config",
    "data": "backend/data",
    "logs": "backend/logs",
    "releases": "electron/release"
  }
}
